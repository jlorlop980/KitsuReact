<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Login.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Login.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from "react";
import "../css/Login.css";

//componente para el login  de nuevo no creo que sea necesario repetir lo mismo que en contacto ya que es controlado de la misma manera comprobamos el campo con onBlur vamos guardando el valor con onChange.
/**
 * @description Este componente se encarga de mostrar el login y todas su funcionalidad
 * @function
 * @name Login
 * @returns {JSX} JSX con el login.
 */
function Login(props) {
  
    const [errors, setErrors] = useState({});
    const [username, setUsername] = useState("");
    const [password, setPassword] = useState("");

    const handleSubmit = (event) => {
    event.preventDefault();
    const storedUser = localStorage.getItem("username");
    const storedPass = localStorage.getItem("password");
    console.log("usuario guardado: "+storedUser)
    console.log("pass guardado: "+storedPass)
    
    if (!username) {
      setErrors({ user: "El usuario es requerido" });
      return;
    }

    if (!password) {
      setErrors({ pass: "La contraseña es requerida" });
      return;
    }

    if (storedUser !== username || storedPass !== password) {
      setErrors({ user: "El usuario o contraseña son incorrectos" });
      return;
    }
    alert("iniciado");
    localStorage.setItem("iniciado","true")    
    //podemos destacar que al loguearnos correctamente se cambia en el localStorage el campo iniciado que indica que estamos logueado y nos
    //redirigue a informacionUser
    window.location.href = "/informacionUser";
  };

  return (
    &lt;main className="main-principal">
      &lt;section className="main-principal-section">
             
  
      &lt;form
          action="./assets/js/index.js"
          className="main-principal-section-form"
          onSubmit={handleSubmit}
        >
        &lt;div className="Rmain-principal-section-form-error" style={{color:"#eb584d"}}>
            {errors.user}
        &lt;/div>
          &lt;label htmlFor="user" className="Rmain-principal-section-form-label">Usuario&lt;/label>
        &lt;input 
            type="text"
            id="user"
            className="Rmain-principal-section-form-input"
            value={username}
            onChange={(e) => setUsername(e.target.value)}
        />
           &lt;label htmlFor="pass" className="Rmain-principal-section-form-label">Contraseña&lt;/label>
        &lt;input 
            type="password"
            id="pass"
            className="Rmain-principal-section-form-input"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
        />
                   &lt;/form>
      &lt;/section>
            &lt;a href="#" className="main-principal-section-a" onClick={handleSubmit}>
            Enviar
          &lt;/a>

      &lt;a href="./register">Crear una cuenta&lt;/a>
    &lt;/main>
  );
}

export default Login;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#Contacto">Contacto</a></li><li><a href="global.html#ErrorPage">ErrorPage</a></li><li><a href="global.html#FooterKitsu">FooterKitsu</a></li><li><a href="global.html#HeaderKitsu">HeaderKitsu</a></li><li><a href="global.html#IndexMainKitsu">IndexMainKitsu</a></li><li><a href="global.html#InformacionUser">InformacionUser</a></li><li><a href="global.html#Listado">Listado</a></li><li><a href="global.html#Login">Login</a></li><li><a href="global.html#PackAnime">PackAnime</a></li><li><a href="global.html#Producto">Producto</a></li><li><a href="global.html#Register">Register</a></li><li><a href="global.html#SearchDual">SearchDual</a></li><li><a href="global.html#SearchPage">SearchPage</a></li><li><a href="global.html#TiraAnimePrueba">TiraAnimePrueba</a></li><li><a href="global.html#TiraMangaCrs">TiraMangaCrs</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue Mar 07 2023 15:47:07 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
